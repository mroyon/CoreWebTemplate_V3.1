"use strict";function PostProxy(n,t,i,r=false){var u,f,e;if(n!=""){u=t!=null?r==!1?t:JSON.stringify(t):"";f={};f.culture=u.culture;f.returnUrl=u.returnUrl;console.log(f);e=$("#X-CSRF-TOKEN-WEBADMINHEADER").val();try{$.ajax({type:"POST",url:n,data:u,"async":!1,cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",headers:{"X-CSRF-TOKEN-WEBADMINHEADER":e},beforeSend:function(){$("#divprogress").show()},success:i,error:function(n,t,i){$("#divprogress").hide();showErrorAlert("Error",i,"OK")},failure:function(n){showErrorAlert("Error",n,"OK")},complete:function(){$("#divprogress").hide()}})}catch(o){showErrorAlert("Error",o.message,"OK")}}}function GetProxy(n,t,i,r=false){var u,f;if(n!=""){u=t!=null?r==!1?t:JSON.stringify(t):"";f=$("#X-CSRF-TOKEN-WEBADMINHEADER").val();try{$.ajax({type:methodTypeGet,url:n,data:u,contentType:"application/json","async":!1,cache:!1,headers:{"X-CSRF-TOKEN-WEBADMINHEADER":f},beforeSend:function(){$("#divprogress").show()},success:i,error:function(n,t,i){$("#divprogress").hide();showErrorAlert("Error",i,"OK")},failure:function(n){showErrorAlert("Error",n,"OK")},complete:function(){$("#divprogress").hide()}})}catch(e){showErrorAlert("Error",e.message,"OK")}}}function showErrorAlert(n,t,i){swal({title:n,text:t,type:"error",showCancelButton:!1,confirmButtonText:i})}function showSuccessAlert(n,t,i){swal({title:n,text:t,type:"success",showCancelButton:!1,confirmButtonText:i})}function showInformationAlert(n,t,i){swal({title:n,text:t,type:"info",showCancelButton:!1,confirmButtonText:i})}function showWarningAlert(n,t,i){swal({title:n,text:t,type:"warning",showCancelButton:!1,confirmButtonText:i})}var methodTypePost="POST",methodTypeGet="GET",ajaxPostHandler=function(n,t,i,r){function u(n){n==="SESSION_EXPIRED"?(showInformationAlert("Error","Your session is expired. Please login to continue.","OK"),window.location.href="/Account/login"):i(n)}try{PostProxy(n,t,u,r)}catch(f){showErrorAlert("Error",f.message,"OK")}},ajaxGetHandler=function(n,t,i,r){function u(n){n==="SESSION_EXPIRED"?(showInformationAlert("Error","Your session is expired. Please login to continue.","OK"),window.location.href="/Account/login"):i(n)}try{GetProxy(n,t,u,r)}catch(f){showErrorAlert("Error",f.message,"OK")}};$(document).ready(function(){$("#divprogress").hide()});$(function(){$("body").on("click","#ahrefchange_password",function(){$("#modal-container").remove();ajaxGetHandler("/Account/ChangePassword",{returnUrl:"/"},function(n){$("#modal-content-common").html("");$("#modal-content-common").html(n);$("#modal-container-common").modal({backdrop:"static",keyboard:!1})},!1,!1)});$("body").on("click","#btn-common-modal-close",function(n){try{n.preventDefault();$("#modal-content-common").html("");$("#modal-container-common").modal("hide")}catch(t){showErrorAlert("Error",t.message,"OK")}});$("body").on("click","#btnchangepassword",function(n){try{event.preventDefault();var t=$("#frmchangepassword");jQuery.validator.unobtrusive.parse();jQuery.validator.unobtrusive.parse(t);t.valid()&&ajaxPostHandler("/Account/ChangePassword",null,function(n){n!=="INVALID_PARAMETERS"?showSuccessAlert("Success",n.response,"OK"):alert("There is a problem on server side. Please try again later.")},!1)}catch(n){showErrorAlert("Error",n.message,"OK")}})});