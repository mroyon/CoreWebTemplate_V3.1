"use strict";function PostObjectProxy(n,t,i,r=false){var t,u;if(n!=""){t=t!=null?r==!1?t:JSON.stringify(t):"";u=$("#X-CSRF-TOKEN-WEBADMINHEADER").val();try{$.ajax({type:methodTypePost,url:n,data:t,"async":!1,cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",headers:{"X-CSRF-TOKEN-WEBADMINHEADER":u},beforeSend:function(){$("#divprogress").show()},success:i,error:function(n,t,i){$("#divprogress").hide();showErrorAlert("Error",i,"OK")},failure:function(n){showErrorAlert("Error",n,"OK")},complete:function(){$("#divprogress").hide()}})}catch(f){showErrorAlert("Error",f.message,"OK")}}}function PostParamsProxy(n,t,i,r=false){var t,u;if(n!=""){t=t!=null?r==!1?t:JSON.stringify(t):"";u=$("#X-CSRF-TOKEN-WEBADMINHEADER").val();try{$.ajax({type:methodTypePost,url:n,data:t,"async":!1,cache:!1,headers:{"X-CSRF-TOKEN-WEBADMINHEADER":u},beforeSend:function(){$("#divprogress").show()},success:i,error:function(n,t,i){$("#divprogress").hide();showErrorAlert("Error",i,"OK")},failure:function(n){showErrorAlert("Error",n,"OK")},complete:function(){$("#divprogress").hide()}})}catch(f){showErrorAlert("Error",f.message,"OK")}}}function GetProxy(n,t,i,r=false){if(n!=""){t=t!=null?r==!1?t:JSON.stringify(t):"";var u=$("#X-CSRF-TOKEN-WEBADMINHEADER").val();try{$.ajax({type:methodTypeGet,url:n,data:t,contentType:"application/json","async":!1,cache:!1,headers:{"X-CSRF-TOKEN-WEBADMINHEADER":u},beforeSend:function(){$("#divprogress").show()},success:i,error:function(n,t,i){$("#divprogress").hide();showErrorAlert("Error",i,"OK")},failure:function(n){showErrorAlert("Error",n,"OK")},complete:function(){$("#divprogress").hide()}})}catch(f){showErrorAlert("Error",f.message,"OK")}}}function showErrorAlert(n,t,i){swal({title:n,text:t,type:"error",showCancelButton:!1,confirmButtonText:i})}function showSuccessAlert(n,t,i){swal({title:n,text:t,type:"success",showCancelButton:!1,confirmButtonText:i})}function showInformationAlert(n,t,i){swal({title:n,text:t,type:"info",showCancelButton:!1,confirmButtonText:i})}function showWarningAlert(n,t,i){swal({title:n,text:t,type:"warning",showCancelButton:!1,confirmButtonText:i})}function _cusTriggerModal(n,t){var i=n+"-content",r=n+"-container";$("#"+i).html("");$("#"+i).html(t);$("#"+r).modal({backdrop:"static",keyboard:!1})}function _cusCloseModal(n){var t=n+"-content",i=n+"-container";$("#"+t).html("");$("#"+i).modal("hide")}function _cusFormValidate(n){var t=$("#"+n);return jQuery.validator.unobtrusive.parse(),jQuery.validator.unobtrusive.parse(t),t.valid()?!0:!1}var methodTypePost="POST",methodTypeGet="GET",ajaxPostObjectHandler=function(n,t,i,r){function u(n){n==="SESSION_EXPIRED"?(showInformationAlert("Error","Your session is expired. Please login to continue.","OK"),window.location.href="/Account/login"):i(n)}try{PostObjectProxy(n,t,u,r)}catch(f){showErrorAlert("Error",f.message,"OK")}},ajaxPostParamsHandler=function(n,t,i,r){function u(n){n==="SESSION_EXPIRED"?(showInformationAlert("Error","Your session is expired. Please login to continue.","OK"),window.location.href="/Account/login"):i(n)}try{PostParamsProxy(n,t,u,r)}catch(f){showErrorAlert("Error",f.message,"OK")}},ajaxGetHandler=function(n,t,i,r){function u(n){n==="SESSION_EXPIRED"?(showInformationAlert("Error","Your session is expired. Please login to continue.","OK"),window.location.href="/Account/login"):i(n)}try{GetProxy(n,t,u,r)}catch(f){showErrorAlert("Error",f.message,"OK")}};$(document).ready(function(){$("#divprogress").hide()});$(function(){$("body").on("click","#ahrefchange_password",function(){ajaxGetHandler("/Account/ChangePassword",{returnUrl:"/"},function(n){_cusTriggerModal("modal-common",n)},!1,!1)});$("body").on("click","#btn-common-modal-close",function(n){try{n.preventDefault();_cusCloseModal("modal-common")}catch(t){showErrorAlert("Error",t.message,"OK")}});$("body").on("click","#btnchangepassword",function(n){try{event.preventDefault();_cusFormValidate("frmchangepassword")&&ajaxPostObjectHandler("/Account/ChangePassword",null,function(n){n!=="INVALID_PARAMETERS"?showSuccessAlert("Success",n.response,"OK"):alert("There is a problem on server side. Please try again later.")},!1)}catch(n){showErrorAlert("Error",n.message,"OK")}})});